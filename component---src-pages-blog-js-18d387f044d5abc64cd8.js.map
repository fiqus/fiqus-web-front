{"version":3,"file":"component---src-pages-blog-js-18d387f044d5abc64cd8.js","mappings":"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","sources":["webpack://fiqus-web/./src/components/modules/PostThumbnail.js","webpack://fiqus-web/./src/pages/blog.js"],"sourcesContent":["import React from 'react';\nimport styled from 'styled-components'\nimport data from '../../content/content.json'\nimport { useIntl, Link } from \"gatsby-plugin-react-intl\"\nimport Button from '../common/Button'\nimport Img from \"gatsby-image\"\n\nconst styles = data.styles\n\nconst PostThumbnailWrapper = styled.div`\n    margin-bottom: 50px;\n    max-width: 320px;\n    flex-basis: 100%;\n    @media (min-width: ${styles.breakpoints.m}px) {\n        max-width: 351px;\n    }\n    @media (min-width: ${styles.breakpoints.l}px) {\n        flex-basis: 33%;\n        min-width: 300px;\n        max-width: 300px;\n        margin-bottom: 55px;\n    }\n` \n\nconst PostThumbnailImage = styled(Link)`\n    display: block;\n    border-radius: 6px;\n    margin-bottom: 10px;\n    height: 230px;\n    max-width: 320px;\n    overflow: hidden;\n    @media (min-width: ${styles.breakpoints.l}px) {\n        height: 215px;\n        margin-bottom: 15px;\n    }\n`\nconst Image = styled(Img) `\n    height: 100%;\n`\nconst PostThumbnailTitle = styled(Link)`\n    display: block;\n    font-size: 1.16em;\n    line-height: 27px;\n    color: ${styles.colors.darkMainBg};\n    text-decoration: none;\n    margin-bottom: 10px;  \n    @media (min-width: ${styles.breakpoints.l}px) {\n        font-weight: ${styles.fontWeight.bold};\n        margin-bottom: 8px;\n    }\n`\nconst PostThumbnailDescription =styled.p`\n    font-size: .88em;\n    line-height: 20px;\n    margin-bottom: 20px;\n    color: ${styles.colors.darkGrey};\n    @media (min-width: ${styles.breakpoints.l}px) {\n        margin-bottom: 15px;\n    }\n`\nconst BtnContainer =  styled.div`\n    display: flex;\n    flex-wrap: wrap;\n`\nconst Btn =  styled(Button)`\n    font-size: .88em;\n    margin: 0;\n    padding: 6px 12px;\n    box-shadow: none;\n    border-radius: 10px;\n    &:hover {\n        box-shadow: 0px 3px 0px ${styles.colors.lightGrey};\n    }\n    @media (min-width: ${styles.breakpoints.l}px) {\n        font-size: .77em;\n        padding: 7px 15px;\n    }\n`\n\nconst PostThumbnail = (props) => {\n    const intl = useIntl();\n\n    return (\n        <PostThumbnailWrapper>\n            <PostThumbnailImage to={props.shortSlug}> \n                <Image\n                    fluid = {props.fluid}\n                    alt=\"\"\n                />\n            </PostThumbnailImage>\n            <PostThumbnailTitle to={props.shortSlug}>{props.postTitle}</PostThumbnailTitle>\n            <PostThumbnailDescription>{props.postDescription}</PostThumbnailDescription>\n            <BtnContainer>\n                <Btn\n                  type='btnSecondary'\n                  theme={styles}\n                  isLink\n                  href={props.slug}\n                  btnText={intl.formatMessage({id: 'button.read'})}\n                />\n            </BtnContainer>\n        </PostThumbnailWrapper>\n    );\n};\n\nexport default PostThumbnail;","import React, { useState, useEffect, Fragment }  from 'react'\nimport { graphql } from 'gatsby';\nimport styled from 'styled-components'\nimport data from '../content/content.json'\nimport { useIntl } from \"gatsby-plugin-react-intl\"\n\nimport Button from '../components/common/Button'\nimport PostThumbnail from '../components/modules/PostThumbnail'\n\nconst styles = data.styles\n\nconst MainWrapper = styled.div`\n  padding-bottom: 180px;\n  @media (min-width: ${styles.breakpoints.m}px) {\n    padding-bottom: 228px;\n  }\n`\nconst PostsContainer = styled.div`\n  padding: 40px 20px 0 20px;\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  @media (min-width: ${styles.breakpoints.lpx}) {\n    padding-top: 55px;\n    padding-left: 0;\n    padding-right: 0;\n  }\n`\nconst PostsWrapper = styled.div`\n    display: inline-flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    margin: auto;\n    gap: 10px;\n    padding: 0;\n    max-width: 946px;\n    @media (min-width: ${styles.breakpoints.m}px) {\n      justify-content: flex-start;\n      margin: auto;\n      gap: 23px;\n      padding: 0;\n    }\n    @media (min-width: ${styles.breakpoints.l}px) {\n     width: 946px;\n    }\n`\n\nconst BlogTitle = styled.h1`\n  flex-basis: 100%;\n  font-size: 2.38em;\n  line-height: 49px;\n  color: ${styles.colors.purplePrimary};\n  margin: 0 auto 25px auto;\n  text-align: center;\n  @media (min-width: ${styles.breakpoints.m}px) {\n    text-align: left;\n    font-size: 3em;    \n    line-height: 62px;\n    margin-bottom: 35px;\n  }\n`\nconst Btn = styled(Button)`\n  margin: 0px auto 15px auto;\n`\n\n\nconst Blog = ({data: {allMarkdownRemark: { edges }}})  =>  {\n  const intl = useIntl();\n  const [currentPostsList, setCurrentPostsList] = useState([])\n  const [visiblePosts, setVisiblePosts] = useState([])\n  const [postsLimit, setPostsLimit] = useState(6)\n  const postsAdd = 6\n\n  useEffect(()=>{\n    let tempPostsList = []\n    edges.forEach(edge => {\n      if(edge.node.frontmatter.lang === intl.locale){\n        tempPostsList.push(edge)\n      }\n      setCurrentPostsList([...tempPostsList])\n    });\n  }, [])\n\n  useEffect(()=>{\n    if(currentPostsList.length !== 0){\n      setVisiblePosts(currentPostsList.slice(0,postsLimit))\n    }\n  }, [currentPostsList])\n\n  useEffect (()=>{\n    setVisiblePosts(currentPostsList.slice(0,postsLimit))\n  }, [postsLimit])\n  \n  const showMorePosts = () => {\n    if(postsLimit<=currentPostsList.length){\n      setPostsLimit(postsLimit+postsAdd)\n    }\n  }\n\n\n    return (\n      <MainWrapper>\n      <PostsContainer>\n        <PostsWrapper>\n            <BlogTitle>Blog</BlogTitle>\n\n            {visiblePosts.map( post => {\n                return(\n                  <PostThumbnail \n                    postTitle={post.node.frontmatter.title}\n                    postDescription={post.node.excerpt}\n                    fluid={post.node.frontmatter.image.childImageSharp.fluid}\n                    slug={`/${post.node.frontmatter.lang}/post${post.node.frontmatter.slug}`}\n                    shortSlug={`/post${post.node.frontmatter.slug}`}\n                  />\n                )\n            })}\n\n          </PostsWrapper>\n          <Btn\n            isLink={false}\n            type='btnPrimaryPurple'\n            theme={styles}\n            to=\"#\"\n            btnText={intl.formatMessage({id: 'verMasArticulos'})}\n            onButtonClick = {showMorePosts}\n          />\n        </PostsContainer>\n    </MainWrapper>\n\n    )\n}\n\nexport default Blog;\n\nexport const pageQuery = graphql`\n  query {\n    allMarkdownRemark(sort: { order: DESC, fields: [frontmatter___date] }, filter: {frontmatter: {type: {eq: \"post\"}}}) {\n      edges {\n        node {\n          id\n          excerpt(pruneLength: 95)\n          frontmatter {\n            lang\n            type\n            title\n            author\n            slug\n            date\n            tags\n            image{\n              childImageSharp {\n                fluid(maxWidth: 800) {\n                  ...GatsbyImageSharpFluid\n                }\n              }\n            }\n            imageCredits\n          }\n        }\n      }\n    }\n  }\n`"],"names":["styles","data","PostThumbnailWrapper","styled","breakpoints","m","l","PostThumbnailImage","Link","Image","Img","PostThumbnailTitle","colors","darkMainBg","fontWeight","bold","PostThumbnailDescription","darkGrey","BtnContainer","Btn","Button","lightGrey","props","intl","useIntl","to","shortSlug","fluid","alt","postTitle","postDescription","type","theme","isLink","href","slug","btnText","formatMessage","id","MainWrapper","PostsContainer","lpx","PostsWrapper","BlogTitle","purplePrimary","edges","allMarkdownRemark","useState","currentPostsList","setCurrentPostsList","visiblePosts","setVisiblePosts","postsLimit","setPostsLimit","useEffect","tempPostsList","forEach","edge","node","frontmatter","lang","locale","push","length","slice","map","post","title","excerpt","image","childImageSharp","onButtonClick"],"sourceRoot":""}