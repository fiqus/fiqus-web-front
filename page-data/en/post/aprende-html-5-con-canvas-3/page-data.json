{
    "componentChunkName": "component---src-blog-templates-blog-post-js",
    "path": "/en/post/aprende-html-5-con-canvas-3",
    "result": {"data":{"allMarkdownRemark":{"edges":[{"node":{"id":"d15d6954-bec3-5673-a420-e2da609c8f4c","html":"<p>Para continuar con esta serie de tutoriales sobre HTML5 <a href=\"https://es.wikipedia.org/wiki/Elemento_canvas\">Canvas</a>, vamos a intentar recrear un protector de pantalla clásico de Windows, llamado \"mystify your mind\". En el siguiente video podemos ver un ejemplo del mismo:</p>\n<iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/p-howMhFecQ?start=10\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\n<p>Aunque vamos a tratar de darle un toque mas moderno :).</p>\n<p>Para comenzar, partimos desde la misma base que el <a href=\"/post/aprende-html-5-con-canvas-2\">tutorial anterior</a>. Un canvas vacío, de color negro, y por el lado de javascript, la inicialización del canvas  y un \"loop\" utilizando requestAnimationFrame.</p>\n<iframe width=\"100%\" height=\"330\" src=\"https://jsfiddle.net/mlambir/rfCRQ/embedded/\" allowfullscreen=\"allowfullscreen\" frameborder=\"0\"></iframe>\n<p>Analizando un poco el comportamiento del protector de pantallas original, podemos \"reducirlo\" a una serie de polígonos, con las siguientes características:</p>\n<ul>\n<li>cambian de color con el tiempo</li>\n<li>dejan una \"estela\" al moverse</li>\n<li>los vértices de los poligonos se mueven en linea recta</li>\n<li>al llegar al borde de la pantalla, los vértices cambian de dirección como si \"rebotaran\"</li>\n</ul>\n<br>\n<p>El primer paso que vamos a realizar es generar un polígono y dibujarlo en el canvas. Para poder hacer esto vamos a utilizar un conjunto de métodos y propiedades del contexto de canvas relacionadas al dibujado de \"paths\". Las mismas son:</p>\n<deckgo-highlight-code language=\"javascript\" terminal=\"ubuntu\"  >\n          <code slot=\"code\">    //marca el comienzo de nuestro poligono\n    context.beginPath(); \n    //mueve la posicion de dibujado, pero sin dibujar\n    context.moveTo(x, y);\n    //mueve la posicion de dibujado, dibujando\n    context.lineTo(x, y);\n    // une el ultimo punto con el primero\n    context.closePath();\n    //una propiedad que contiene el color que queremos usar para dibujar\n    context.strokeStyle;\n    //realiza el dibujado del path creado con las funciones anteriores\n    context.stroke();</code>\n        </deckgo-highlight-code>\n<p>Como vemos, dibujar un polígono es un poco mas complicado que dibujar un cuadrado, simplemente por el hecho de que hay que definir al polígono antes de poder dibujarlo. Para poder entenderlo un poco mejor, vamos a ver un ejemplo, dibujando un polígono definido arbitrariamente:</p>\n<iframe width=\"100%\" height=\"330\" src=\"https://jsfiddle.net/mlambir/rfCRQ/1/embedded/\" allowfullscreen=\"allowfullscreen\" frameborder=\"0\"></iframe>\n<p>Como vemos, dibujar un polígono en javascript no es mucho mas complicado que dibujar una serie de puntos. Asimismo, animar al polígono tampoco sera muy complejo. Al igual que cuando animamos los puntos para el \"campo de estrellas\", tendremos que guardar la posición de los vértices en un array, y \"moverlos\" entre frame y frame.</p>\n<p>Una diferencia importante a tener en cuenta es que no podemos inferir la dirección del movimiento con solo saber la posición del vértice, por lo cual vamos a tener que guardarla en el mismo array que guardamos las posiciones, y generarla al azar al momento de inicializar el array.</p>\n<p>hay varias formas de guardar este dato, podríamos guardar un angulo en grados, o radianes, yo en este caso elegí guardarlo separado en dos componentes, x e y, porque me pareció mas simple para que todos los vértices se muevan a la misma velocidad.</p>\n<p>Para generar este dato, usamos el siguiente código:</p>\n<deckgo-highlight-code language=\"javascript\" terminal=\"ubuntu\"  >\n          <code slot=\"code\">    dir = Math.random() * Math.PI * 2;\n    \n    // el angulo, en radianes, es un numero entre 0 y 2*pi tomado al azar (entre 0º y 360º)\n    dirx = Math.sin(dir);\n    diry = Math.cos(dir);\n    // usamos las funciones seno y coseno para separar las componentes del angulo</code>\n        </deckgo-highlight-code>\n<p>usando este método, el código para inicializar el array con los vértices nos quedaría así:</p>\n<deckgo-highlight-code language=\"javascript\" terminal=\"ubuntu\"  >\n          <code slot=\"code\">    var vertices = [];\n    var i;\n    \n    for (i = 0; i &amp;amp;lt; 7; i++) {\n        var dir = Math.random() * Math.PI * 2;\n    \n        vertices.push({\n            &amp;amp;quot;x&amp;amp;quot;: Math.random() * canvas.width,\n            &amp;amp;quot;y&amp;amp;quot;: Math.random() * canvas.height,\n            &amp;amp;quot;dirx&amp;amp;quot;: Math.sin(dir),\n            &amp;amp;quot;diry&amp;amp;quot;: Math.cos(dir)\n        });\n    }</code>\n        </deckgo-highlight-code>\n<p>Y si le sumamos el código que dibuja el polígono del array, simplemente cambiando las llamadas sucesivas a lineTo por un for que recorra el array, obtenemos lo siguiente:</p>\n<iframe width=\"100%\" height=\"330\" src=\"https://jsfiddle.net/mlambir/rfCRQ/2/embedded/\" allowfullscreen=\"allowfullscreen\" frameborder=\"0\"></iframe>\n<p>Con esto, logramos dibujar un polígono al azar cada vez que recargamos el ejemplo.</p>\n<p>Ahora, para animar el movimiento, solo tenemos que mover los vértices entra cada cuadro, utilizando el vector de velocidad que habíamos generado al comienzo, y sin olvidarnos de chequear si los vértices se \"escapan\" del canvas.</p>\n<deckgo-highlight-code language=\"javascript\" terminal=\"ubuntu\"  >\n          <code slot=\"code\">    for(i=0 ; i&amp;amp;lt;vertices.length;i++) {\n        vertices[i].x = vertices[i].x + vertices[i].dirx * 4;\n        vertices[i].y = vertices[i].y + vertices[i].diry * 4;\n        \n        if(\n            vertices[i].x &amp;amp;lt; 0 || \n            vertices[i].x &amp;amp;gt; canvas.width\n        ) {\n            vertices[i].dirx = - vertices[i].dirx;\n        }\n\n        if (\n            vertices[i].y &amp;amp;lt; 0 || \n            vertices[i].y &amp;amp;gt; canvas.height\n        ) {\n            vertices[i].diry = - vertices[i].diry;\n        }\n    }</code>\n        </deckgo-highlight-code>\n<p>Acá vemos que lo que hacemos para chequear esta condición es ver si el desplazamiento en x o en y del vértice lo llevaría fuera del canvas (si fuera menor que cero, o mayor que el ancho o el alto respectivamente) y en caso de ser cierto, invertimos la dirección de movimiento en ese componente, logrando así que el vértice rebote contra los bordes de la pantalla.</p>\n<p>También agregamos una llamada a la función clearRect del contexto, para que nuestra animación se realice desde 0 en cada cuadro. Con estos cambios logramos el siguiente efecto:</p>\n<iframe width=\"100%\" height=\"330\" src=\"https://jsfiddle.net/mlambir/rfCRQ/3/embedded/\" allowfullscreen=\"allowfullscreen\" frameborder=\"0\"></iframe>\n<p>Ya el protector de pantalla esta bastante avanzado, y el efecto que logramos es muy similar al original... lo que podemos hacer para finalizar el efecto es agregar la \"estela\" que se genera con el movimiento. Para hacerlo, podemos usar un pequeño truco... en vez de limpiar la pantalla al 100% cada vez que dibujamos, podemos dibujar un cuadrado que ocupe toda la pantalla, pero con un 10% de opacidad... con esto logramos que cada cuadro que dibujamos se mantenga en la pantalla por 10 cuadros, cada vez con menos intensidad.</p>\n<p>Para hacer esto, solo llamamos a drawRect, habiendo establecido el fillStyle en rgba(0,0,0,.1), y obtenemos el siguiente resultado:</p>\n<iframe width=\"100%\" height=\"330\" src=\"https://jsfiddle.net/mlambir/rfCRQ/4/embedded/\" allowfullscreen=\"allowfullscreen\" frameborder=\"0\"></iframe>\n<p>Ya estamos mucho mas cerca del original! Lo único que nos faltaría es poder manejar el color del polígono, pero esto lo vamos a aprovechar para explicar un poco las distintas formas de manejar colores, así que lo dejamos para una próxima edición.</p>\n<p>Espero que les haya sido útil, y hasta el próximo tutorial!</p>","frontmatter":{"lang":"es","type":"post","title":"Aprende html5 con canvas haciendo protectores de pantallas (Parte 3)","author":"Mariano Lambir","slug":"/aprende-html-5-con-canvas-3","date":"2013-09-27","tags":["Programación"],"image":{"childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB80lEQVQY0wHoARf+AJ2z9JSr63+Z3Cw9hBYcXRAaWDU6dU9Qg0VLakBLZD9edTNJZCoxSyIpPyInPCUpPBgfN1dSWKyntJ2YsACctfmRqeeIouUzQoRCSXdFSm5OTW1dVW5GQlMzPFYkNVcdJUcYHDsTFS8UFi0SESoOGDFAO0Z8aHSBc4YAla/ykqnokaXpPU+UMjx2KC5lKC5iHSRYDhRICxBACg08EhQ/GR1EHCNJDxQ4ChEyAg0tKyMpZ1JXT0FJAIuh4pCo6JGo6kdbpBEaXxkfZiYqbSwwbTtAc0hRe0dXgUpGbkVJbztKZhkbOyIjNjU2QF5aXk5GRxIMDQCCmNaMo/B4iuBhbMRkaLJbWpxqaYZcXG1BRFEyMzwmJiwvKy8uKzJBPkRYVFhfWV5oZWpeXGBsaGp5d3sARkiHMzR5EQo9JB9DIh8qFxMUGRUUFhESJR8jNzE3PDc9Qj1FRUFIOjU7OTI1PTMxNiwoNS8vODIyRD8/AAYBBhgTFCEbFxwXEyskJjQuNTkzPkA7Rzs3QS0pMiwnLScfIy8nKjguMDsuLkc7OktBQT85OUVAQUhFSQBPRkxGPkc9ND4uJy8oIionISgtJiwsJSknICQ0LC47MjM/NTY8MTJIPT1QQkNLPT1HPDxRS01JREZIQ0ZQZImDnGw+oQAAAABJRU5ErkJggg==","aspectRatio":2.5974025974025974,"src":"/static/3930e075bd8df513adcfae0d5941a186/ee604/aprende-html-3.png","srcSet":"/static/3930e075bd8df513adcfae0d5941a186/69585/aprende-html-3.png 200w,\n/static/3930e075bd8df513adcfae0d5941a186/497c6/aprende-html-3.png 400w,\n/static/3930e075bd8df513adcfae0d5941a186/ee604/aprende-html-3.png 800w,\n/static/3930e075bd8df513adcfae0d5941a186/f3583/aprende-html-3.png 1200w,\n/static/3930e075bd8df513adcfae0d5941a186/5707d/aprende-html-3.png 1600w,\n/static/3930e075bd8df513adcfae0d5941a186/2ed00/aprende-html-3.png 1812w","sizes":"(max-width: 800px) 100vw, 800px"}}},"imageCredits":"unsplash"},"timeToRead":4}}]}},"pageContext":{"slug":"/aprende-html-5-con-canvas-3","language":"en","intl":{"language":"en","languages":["es","en"],"messages":{"Home":"Home","Servicios":"Services","Cultura":"Culture","Labs":"Labs","Blog":"Blog","Articles":"Articles","footer.designby":"Intercooperative work made by","footer.coopName":"el maizal and nayra","footer.disclaimer":"Unless stated otherwise, content on this site is licensed under ","footer.licenseName":"Creative Commons Attribution","footer.licenseIconAlt":"Creative Commons Attribution logo","header.logoAlt":"logo Fiqus","header.iconTogglerAlt":"icon to open menu","header.iconTogglerCloseAlt":"icon to close menu","homepage.title":"Homepage","homepage.imageAlt":" ","homepage.imageAltMobile":" ","homepage.leadLine1":"We are a ","homepage.leadUnderlined":"software cooperative ","homepage.leadLine2":"We are ","homepage.leadBold":"collective construction","homepage.leadLine3":", culture and minds in constant motion.","homepageCulture.title":"Culture","homepageCulture.birdImage":"bird.svg","homepageCulture.birdImageAlt":"illustration of a bird","homepageCulture.image":"homepageCulture.svg","homepageCulture.imageAlt":"illustration depicting the culture section","homepageCulture.descriptionLine1":"We have a superpower: We own the company we work for! Fiqus is not just another job, it's a ","homepageCulture.underlinedText":"life project","homepageCulture.descriptionLine2":" In which we have built a consolidated team of professionals who are in continuous training to be able to provide high quality technical solutions.","homepageCulture.btnText":"view more","homepageLabs.title":"Labs","homepageLabs.subtitle":"We train permanently!","homepageLabs.image":"homepageLabs.svg","homepageLabs.imageAlt":"illustration representing the culture section","homepageLabs.imageAltMobile":"illustration representing the culture section","homepageLabs.descriptionLine1":"One of the objectives of Fiqus is to constantly train ourselves to specialize in cutting-edge technologies, that's why every week we have","homepageLabs.descriptionBold1":" FiqusLabs","homepageLabs.descriptionLine2":"  a hands-on learning space where we investigate cutting-edge technologies such as","homepageLabs.descriptionBold2":" Elixir","homepageLabs.descriptionComma":",","homepageLabs.descriptionBold3":" Erlang","homepageLabs.descriptionLine4":" and","homepageLabs.descriptionBold4":" MachineLearning","homepageLabs.descriptionDot":".","homepageLabs.btnText":"view more","button.verMas":"view more","button.send":"send","button.read":"read","verMasArticulos":"view all articles","y":" and ","contactForm.title":"Contact us","contactForm.nameField":"Name","contactForm.emailField":"E-mail","contactForm.requiredFieldError":"Please complete the required field","contactForm.textAreaField":"Message","contactForm.messageSent":"Your message has been sent.","contactForm.thankYou":"Thank you for contacting us","contactForm.email":"info@fiqus.coop","contactForm.sedes":"Locations","contactForm.office1":"14 de Julio 1268 Ciudad de Buenos Aires, Argentina","contactForm.office2":"Las Frutillas 109, Casa 2 Villa La Angostura, Neuquén, Argentina","services.title":"Services","services.tagsTitle":"Technologies","services.btnText":"go to services","service_datos.service":"Data Science","service_datos.description":"This area is dedicated to the cleaning, extraction and analysis of data in order to feed Artificial Intelligence or Machine Learning processes. It is essential to process the data in order to make it easy to understand, as well as its use to reach the proposed goals.","service_datos.tags.0":"Python","service_datos.tags.1":"Pandas","service_datos.tags.2":"Numpy","service_datos.tags.3":"Seaborn","service_datos.image":"data","service_datos.link":" ","service_inteligenciaArtificial.service":"Artificial Intelligence","service_inteligenciaArtificial.description":"Machine Learning is a subfield of Artificial Intelligence in which the goal is for computers to learn. From collected and processed data, we design, build and train models that allow us to predict future events, classify images, recognize entities in text and much more.","service_inteligenciaArtificial.tags.0":"Python","service_inteligenciaArtificial.tags.1":"Pandas","service_inteligenciaArtificial.tags.2":"Numpy","service_inteligenciaArtificial.tags.3":"Seaborn","service_inteligenciaArtificial.image":"inteligenciaArtificial","service_inteligenciaArtificial.link":" ","service_altaConcurrencia.service":"High Concurrence","service_altaConcurrencia.description":"We use functional programming languages in real time and widely adopted in the market, which support very high levels of concurrency and distribution, producing systems that provide high speed response to high demands.","service_altaConcurrencia.tags.0":"Earlang","service_altaConcurrencia.tags.1":"Elixir","service_altaConcurrencia.tags.2":"Phoenix Framework","service_altaConcurrencia.tags.3":"LiveView","service_altaConcurrencia.image":"altaConcurrencia","service_altaConcurrencia.link":" ","service_blockchain.service":"Blockchain | Fintech","service_blockchain.description":"We are developing fintech, which are new applications, processes, products or business models in the financial services industry composed of one or more complementary financial services that are offered to the public through the Internet.","service_blockchain.tags.0":"Python","service_blockchain.tags.1":"Ethereum","service_blockchain.image":"blockchain","service_blockchain.link":" ","service_fullstack.service":"Fullstack","service_fullstack.description":"We develop web/mobile/desktop applications with different technologies to solve problems of organizations, cooperatives and companies in order to improve the efficiency of their processes.","service_fullstack.tags.0":"Django","service_fullstack.tags.1":"Phoenix","service_fullstack.tags.2":"Phoenix LiveView","service_fullstack.tags.3":"ReactJS","service_fullstack.tags.4":"VueJS","service_fullstack.tags.5":"React Native","service_fullstack.image":"fullstack","service_fullstack.link":" ","service_subsection.title":"Training","service_subsection.description":"We provide technical and/or cooperative training for organizations, cooperatives and companies in which we seek to share in a friendly and systematized way the knowledge obtained in the technological and cooperative fields.","service_subsection.image":"capacitacion","service_subsection.featuredServiceImageAlt":"Training animated image","service_subsection.link":"servicios/#capacitacion","culture.title":"Culture","culture.subtitle":"We have a superpower: We own the company we work for!","culture.description":"Fiqus is not just another job, it is a life project, in which we have built a consolidated team of professionals who are in continuous training to provide high quality technical solutions.","culture_historia.title":"History","culture_historia.imageMobile":"equipoMobile","culture_historia.imageAltMobile":"equipo Fiqus","culture_historia.imageDesktop":"equipoDesktop","culture_historia.imageAlt":"Fiqus team","culture_historia.content_line1":"Fiqus is like a big family, which started when several engineering students from the National Technological University got tired of traditional jobs and began to think of their own construction, based on different production approaches to those of the companies they had previously worked for","culture_historia.content_line2":"After several months of preparation, the idea of building something self-managed, horizontal, democratic and collectively owned became stronger and stronger. That is how the idea of building a social enterprise was born, that is how Fiqus was born.","culture_historia.content_line3":"Over the years, we have built an organizational structure that adapts to people and not the other way around. This is how, as we went along and based on the experience acquired, we built a series of agreements that today are part of our internal regulations. Our rules and regulations are not static, they are living things that evolve according to the evolution of the people who are part of our organization. This is where we reflect our concrete proposals to ensure that the people who participate in the collective are placed at the center of the production processes.","culture_historia.content_line4":"We like to think that Fiqus is a proposal that invites those who are not familiar with technological cooperativism to see that a paradigm shift is possible.","culture_historia.subtitle":"We are organized horizontally and democratically!","culture_historia.content_line5":"The decisions of the cooperative are made at the Ordinary General Assembly once a year. In addition, as a collective organization, twice a year we hold a meeting where we think, based on our personal desires, about our objectives as a cooperative and we meet weekly (virtually) to plan the daily tasks. ","culture_federales.title1":"We operate at federal level!","culture_federales.image":"mapa_argentina","culture_federales.imageAlt":" ","culture_federales.content1":"Our current distribution is the result of having created a structure malleable enough to be able to adapt to people's needs. In this way, as we have grown as people and as we have gone through the different scenarios that life has presented us with, we have prioritized accompanying the collective by providing the necessary support so that everyone can decide, for example, where and how to live.","culture_federales.tenemosSedes":"We currently have offices in ","culture_federales.y":"and","culture_federales.personasAsociadas":"But in addition, we have associates working from ","culture_federales.title2":"Territorial","culture_federales.content2":"As a worker cooperative, we understand ourselves as territorial social actors. Based on the seventh cooperative principle of 'Commitment to the Community', we assume the responsibility of extending the collective construction that we carry out day by day within the cooperative in the territory belonging to one of our locations. That is why we work actively in the Associativism Board of Villa La Angostura, Neuquén. There we meet periodically together with other actors of the social economy as well as with individuals committed to the local community to develop projects that enhance local initiatives, always with a collaborative and horizontal approach.","culture_facttic.title":"We are FACTTIC members!","culture_facttic.subtitle":"The federation is a national organization made up of technology cooperatives from all over Argentina.","culture_facttic.content_line1_part1":"It all started when the first cooperatives in the sector began to get in touch with each other because we understood that there is strength in unity to build a model that can scale with the goal of gradually becoming a real alternative to the traditional production model. As a result of these first interactions, the idea of signing a letter of commitment was born to found the ","culture_facttic.content_line1_facttic":"Argentine Federation of Technology, Innovation and Knowledge Cooperatives (FACTTIC)","culture_facttic.content_line1_part2":", a space for collective construction that fosters solidarity and collaboration as the driving forces behind the creation of technology with cooperative values.","culture_facttic.content_line2":"The continuous interaction with other cooperatives in our sector and the joint work to develop common strategies and share knowledge generates a continuously evolving virtuous circle that drives us to grow and continue to strengthen our work.","culture_facttic.content_line3":"The federation allows us to be in contact with other realities, allows us to break with the endogamy of our organization and invites us to think of ourselves as something bigger, covering a larger scale. It is a space of collective creation where imagination applied to collaborative construction finds no limits.","culture_internacional.title":"International","culture_internacional.content_line1":"Several years after participating in the creation of the federation, we began to contact technology cooperatives in other parts of the world with the objective of sharing the collaboration and intercooperation model built with local cooperatives on a more global scale.","culture_internacional.content_line2":"After several interactions, we made our network's first international inter-cooperative trip. We traveled to the United Kingdom to meet technology cooperatives from a local network. We shared experiences and began to build the foundations of what is now the Global Community of Technology Worker Cooperatives.","culture_internacional.content_line3":"The network brings together more than 50 technology cooperatives from around the world, with presence in 16 countries from three different continents. We share weekly meetings where we learn about our cultures, discuss our common goals and outline a roadmap to grow the community that composes it. Little by little, we begin to intercooperate with the objective of strengthening our local constructions with a global scale. In this way, organized, technology cooperatives will be able to help each other through cooperation to sell and develop projects together.","labs.title":"Labs","labs.subtitle":"FiqusLabs is a space where we research new technologies and train ourselves.","labs.content":"In addition, learning a new technology often comes with the ability to implement a project that benefits the community or the cooperative environment.","casos_de_exito.title":"Case Studies","casos_de_exito.tagsTitle":"Researched Technologies","casos_de_exito.imageAltLine1":"project image","casos_de_exito.btnTextVerMas":"view more","casos_de_exito.btnTextGithub":"go to Github","blog.title":"Blog","blogPost.tagsTitle":"Related tags","blogPost.relatesPost":"Related articles","blogPost.verTodosBtn":"See all articles","page404.title":"Error 404","page404.descriptionLine1":"We couldn't find what you were looking for. If you need help, please contact us.","page404.descriptionLine2":"We invite you to continue browsing our site by clicking on the following button","page404.btnText":"go back to home","page404.btnHref":"/","page404.imageAlt":"illustration fiqus tree","page404.imageAltMobile":"illustration fiqus tree"},"routed":true,"originalPath":"/post/aprende-html-5-con-canvas-3","redirect":true,"redirectDefaultLanguageToRoot":false,"defaultLanguage":"es","fallbackLanguage":"es","ignoredPaths":[]}}},
    "staticQueryHashes": ["632761789"]}